"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4757],{4757:(k,f,s)=>{s.r(f),s.d(f,{PerfilPageModule:()=>v});var l=s(8434),d=s(4341),n=s(3092),m=s(9262),u=s(467),o=s(1360),P=s(7291),b=s(7544);function p(i,a){1&i&&(o.j41(0,"ion-item")(1,"ion-label"),o.EFF(2,"No tienes mascotas registradas."),o.k0s()())}function _(i,a){if(1&i){const r=o.RV6();o.j41(0,"ion-item")(1,"ion-label")(2,"h2"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.k0s(),o.j41(6,"p"),o.EFF(7),o.k0s()(),o.j41(8,"ion-button",9),o.bIt("click",function(){const t=o.eBV(r).$implicit,c=o.XpG();return o.Njj(c.eliminarMascota(t))}),o.EFF(9,"Eliminar"),o.k0s(),o.j41(10,"ion-button",10),o.bIt("click",function(){const t=o.eBV(r).$implicit,c=o.XpG();return o.Njj(c.verHistorialMascota(t))}),o.EFF(11,"Ver Historial"),o.k0s()()}if(2&i){const r=a.$implicit;o.R7$(3),o.JRh(r.nombre),o.R7$(2),o.SpI("Tipo: ",r.tipo,""),o.R7$(2),o.SpI("Edad: ",r.edad,"")}}const F=[{path:"",component:(()=>{var i;class a{constructor(e,t){this.storageService=e,this.router=t,this.usuario=null,this.mascotas=[]}ngOnInit(){this.cargarPerfil()}cargarPerfil(){var e=this;return(0,u.A)(function*(){const t=yield e.storageService.get("usuario_actual");if(t){const c=(yield e.storageService.get("usuarios"))||[];e.usuario=c.find(g=>g.correo===t),e.mascotas=(yield e.storageService.get(`mascotas_${t}`))||[]}})()}irAMascotas(){this.router.navigateByUrl("/mascota-form")}editarMascota(e){this.router.navigate(["/mascota-form"],{state:{mascota:e}})}eliminarMascota(e){var t=this;return(0,u.A)(function*(){confirm(`\xbfEst\xe1s seguro de que deseas eliminar a ${e.nombre}?`)&&(t.mascotas=t.mascotas.filter(g=>g!==e),yield t.storageService.set(`mascotas_${t.usuario.correo}`,t.mascotas),t.cargarPerfil())})()}verHistorialMascota(e){this.router.navigate(["/historial-medico"],{state:{mascota:e}})}irABienvenido(){this.router.navigateByUrl("/bienvenida")}confirmarCerrarSesion(){confirm("\xbfEst\xe1s seguro de que deseas cerrar sesi\xf3n?")&&this.cerrarSesion()}cerrarSesion(){var e=this;return(0,u.A)(function*(){yield e.storageService.remove("usuario_actual"),e.router.navigateByUrl("/login")})()}}return(i=a).\u0275fac=function(e){return new(e||i)(o.rXU(P.n),o.rXU(b.Ix))},i.\u0275cmp=o.VBU({type:i,selectors:[["app-perfil"]],standalone:!1,decls:34,vars:4,consts:[["src","assets/img/Logo.jpeg","alt","Logo",1,"logo-barra"],["slot","end"],["size","small",3,"click"],["name","log-out-outline"],[1,"ion-padding"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"boton-estilo",3,"click"],["fill","clear","size","small",3,"click"],["fill","clear","color","danger",1,"boton-estilo",3,"click"],["color","primary",1,"boton-estilo",3,"click"]],template:function(e,t){1&e&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.nrm(3,"img",0),o.EFF(4," Perfil de Usuario "),o.k0s(),o.j41(5,"ion-buttons",1)(6,"ion-button",2),o.bIt("click",function(){return t.confirmarCerrarSesion()}),o.nrm(7,"ion-icon",3),o.k0s()()()(),o.j41(8,"ion-content",4)(9,"ion-card")(10,"ion-card-header")(11,"ion-card-title"),o.EFF(12,"Informaci\xf3n del Usuario"),o.k0s()(),o.j41(13,"ion-card-content")(14,"p")(15,"strong"),o.EFF(16,"Nombre:"),o.k0s(),o.EFF(17),o.k0s(),o.j41(18,"p")(19,"strong"),o.EFF(20,"Correo:"),o.k0s(),o.EFF(21),o.k0s()()(),o.j41(22,"ion-card")(23,"ion-card-header")(24,"ion-card-title"),o.EFF(25,"Mis Mascotas"),o.k0s()(),o.j41(26,"ion-card-content")(27,"ion-list"),o.DNE(28,p,3,0,"ion-item",5)(29,_,12,3,"ion-item",6),o.k0s(),o.j41(30,"ion-button",7),o.bIt("click",function(){return t.irAMascotas()}),o.EFF(31,"Agregar Mascota"),o.k0s(),o.j41(32,"ion-button",8),o.bIt("click",function(){return t.irABienvenido()}),o.EFF(33," \u2b05\ufe0f Volver a Inicio "),o.k0s()()()()),2&e&&(o.R7$(17),o.SpI(" ",null==t.usuario?null:t.usuario.nombre,""),o.R7$(4),o.SpI(" ",null==t.usuario?null:t.usuario.correo,""),o.R7$(7),o.Y8G("ngIf",0===t.mascotas.length),o.R7$(),o.Y8G("ngForOf",t.mascotas))},dependencies:[l.Sq,l.bT,n.Jm,n.QW,n.b_,n.I9,n.ME,n.tN,n.W9,n.eU,n.iq,n.uz,n.he,n.nf,n.BC,n.ai],styles:['@charset "UTF-8";ion-header[_ngcontent-%COMP%]{--background: #5e35b1}ion-toolbar[_ngcontent-%COMP%]{--background: #5e35b1;--color: white}ion-title[_ngcontent-%COMP%]{color:#fff}ion-content[_ngcontent-%COMP%]{--background: #d8a7f6}ion-button[_ngcontent-%COMP%]{--background: #5e35b1;--color: white}ion-toolbar[_ngcontent-%COMP%]{--background: #6a1b9a}.titulo-bienvenida[_ngcontent-%COMP%]{color:#fff}.bienvenida-titulo[_ngcontent-%COMP%]{font-size:1.8rem;color:#fff;font-weight:700;margin-top:20px}ion-button[_ngcontent-%COMP%]{--background: #6a1b9a;--color: white;--border-radius: 10px;margin-top:15px}ion-button[_ngcontent-%COMP%]:hover{--background: #9c4dcc}.logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}ion-content[_ngcontent-%COMP%]{color:#fff}.logo-barra[_ngcontent-%COMP%]{height:30px;margin-right:10px;vertical-align:middle}']}),a})()}];let h=(()=>{var i;class a{}return(i=a).\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.$C({type:i}),i.\u0275inj=o.G2t({imports:[m.iI.forChild(F),m.iI]}),a})(),v=(()=>{var i;class a{}return(i=a).\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.$C({type:i}),i.\u0275inj=o.G2t({imports:[l.MD,d.YN,n.bv,h]}),a})()}}]);